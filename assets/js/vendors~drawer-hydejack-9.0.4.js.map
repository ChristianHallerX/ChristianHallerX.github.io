{"version":3,"sources":["webpack:///../src/calc.ts","webpack:///../src/common.ts","webpack:///../src/constants.ts","webpack:///../src/index.ts","webpack:///../src/observables.ts","webpack:///../src/styles.ts","webpack:///../src/update.ts","webpack:///../src/directives/class-map.ts","webpack:///../src/directives/style-map.ts"],"names":[],"mappings":"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","file":"vendors~drawer-hydejack-9.0.4.js","sourcesContent":["import { VELOCITY_THRESHOLD } from \"./constants\";\n\nimport { Coord } from './observables';\n\n// Using shorthands for common functions\nconst min = Math.min.bind(Math);\nconst max = Math.max.bind(Math);\n\nexport class CalcMixin {\n  side: 'left' | 'right';\n  range: [number, number];\n\n  calcIsInRange({ clientX }: Coord, opened: boolean) {\n    // console.log(this.range, this.align);\n    switch (this.side) {\n      case \"left\": {\n        const [lower, upper] = this.range;\n        return clientX > lower && (opened || clientX < upper);\n      }\n      case \"right\": {\n        const upper = window.innerWidth - this.range[0];\n        const lower = window.innerWidth - this.range[1];\n        return clientX < upper && (opened || clientX > lower);\n      }\n      default:\n        throw Error();\n    }\n  }\n\n  calcIsSwipe({ clientX: startX }: Coord, { clientX: endX }: Coord, translateX: number, drawerWidth: number, _: number): boolean {\n    return endX !== startX || (translateX > 0 && translateX < drawerWidth);\n  }\n\n  calcWillOpen(_: {}, __: {}, translateX: number, drawerWidth: number, velocity: number): boolean {\n    switch (this.side) {\n      case \"left\": {\n        if (velocity > VELOCITY_THRESHOLD) return true;\n        else if (velocity < -VELOCITY_THRESHOLD) return false;\n        else if (translateX >= drawerWidth / 2) return true;\n        else return false;\n      }\n      case \"right\": {\n        if (-velocity > VELOCITY_THRESHOLD) return true;\n        else if (-velocity < -VELOCITY_THRESHOLD) return false;\n        else if (translateX <= -drawerWidth / 2) return true;\n        else return false;\n      }\n      default:\n        throw Error();\n    }\n  }\n\n  calcTranslateX({ clientX: moveX }: Coord, { clientX: startX }: Coord, startTranslateX: number, drawerWidth: number): number {\n    switch (this.side) {\n      case \"left\": {\n        const deltaX = moveX - startX;\n        const translateX = startTranslateX + deltaX;\n        return max(0, min(drawerWidth, translateX));\n      }\n      case \"right\": {\n        const deltaX = moveX - startX;\n        const translateX = startTranslateX + deltaX;\n        return min(0, max(-drawerWidth, translateX));\n      }\n      default:\n        throw Error();\n    }\n  }\n};","import { of } from \"rxjs\";\nimport { map } from \"rxjs/operators\";\nimport { createResizeObservable } from '@hydecorp/component';\n\nexport { applyMixins, subscribeWhen, filterWhen, tween } from '@hydecorp/component';\n\nexport function easeOutSine(t: number, b: number, c: number, d: number) {\n  return c * Math.sin((t / d) * (Math.PI / 2)) + b;\n}\n\nexport function observeWidth(el: HTMLElement) {\n  // This component should have at least basic support without `ResizeObserver` support,\n  // so we pass a one-time measurement when it's missing. Obviously this won't update, so BYO polyfill.\n  const resize$ = \"ResizeObserver\" in window\n    ? createResizeObservable(el)\n    : of({ contentRect: { width: el.clientWidth }});\n  return resize$.pipe(map(({ contentRect: { width } }) => width));\n}\n\nexport const rangeConverter = {\n  fromAttribute(attr: string = '') {\n    return attr\n      .replace(/[\\[\\]]/g, '')\n      .split(\",\")\n      .map(Number);\n  },\n\n  toAttribute(range: number[] = []) {\n    return range.join(',');\n  },\n}\n\nexport function rangeHasChanged(curr: number[], prev: number[] = []) {\n  return curr.length !== prev.length || curr.some((v, i) => v !== prev[i]);\n}\n","// The base duration of the fling animation.\nexport const BASE_DURATION = 200;\n\n// We adjust the duration of the animation using the width of the drawer.\n// There is no physics to this, but we know from testing that the animation starts to feel bad\n// when the drawer increases in size.\n// From testing we know that, if we increase the duration as a fraction of the drawer width,\n// the animation stays smooth across common display sizes.\nexport const WIDTH_CONTRIBUTION = 0.15;\n\n// Minimum velocity of the drawer (in px/ms) when releasing to make it fling to opened/closed state.\nexport const VELOCITY_THRESHOLD = 0.15;\n","/** \n * Copyright (c) 2020 Florian Klampfer <https://qwtel.com/>\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n * \n * @license \n * @nocompile\n */\nimport { html, property, customElement, query } from 'lit-element';\nimport { classMap } from 'lit-html/directives/class-map';\nimport { styleMap } from 'lit-html/directives/style-map';\n\nimport { Observable, Subject, BehaviorSubject, combineLatest, merge, NEVER, defer, fromEvent } from \"rxjs\";\nimport { startWith, takeUntil, map, share, withLatestFrom, tap, sample, timestamp, pairwise, filter, switchMap, skip, finalize } from 'rxjs/operators';\n\nimport { RxLitElement, createResolvablePromise } from '@hydecorp/component';\n\nimport { BASE_DURATION, WIDTH_CONTRIBUTION } from './constants';\nimport { applyMixins, filterWhen, easeOutSine, observeWidth, rangeConverter, rangeHasChanged, tween } from './common';\nimport { ObservablesMixin, Coord } from './observables';\nimport { CalcMixin } from './calc';\nimport { UpdateMixin, Updater } from './update';\nimport { styles } from './styles';\n\n@customElement('hy-drawer')\nexport class HyDrawer \n    extends applyMixins(RxLitElement, [ObservablesMixin, UpdateMixin, CalcMixin])\n    implements ObservablesMixin, UpdateMixin, CalcMixin {\n\n  static styles = styles;\n\n  el: HTMLElement = this;\n\n  @query('.scrim') scrimEl: HTMLElement;\n  @query('.wrapper') contentEl: HTMLElement;\n  @query('.peek') peekEl: HTMLElement;\n\n  @property({ type: Boolean, reflect: true }) opened: boolean = false;\n  @property({ type: String, reflect: true }) side: \"left\" | \"right\" = \"left\";\n  @property({ type: Boolean, reflect: true }) persistent: boolean = false;\n  @property({ type: Number, reflect: true }) threshold: number = 10;\n  @property({ type: Boolean, reflect: true }) noScroll: boolean = false;\n  @property({ type: Boolean, reflect: true }) mouseEvents: boolean = false;\n  // @property({ type: Boolean, reflect: true }) hashChange: boolean = false;\n  @property({ reflect: true, converter: rangeConverter, hasChanged: rangeHasChanged }) range: [number, number] = [0, 100];\n\n  // State\n  @property() scrimClickable: boolean;\n  @property() grabbing: boolean;\n  @property() willChange: boolean = false;\n\n  private _initialized = createResolvablePromise();\n  get initialized() {\n    return this._initialized;\n  }\n \n  get histId() { return this.id || this.tagName; }\n  get hashId() { return `#${this.histId}--opened`; }\n\n  translateX: number;\n  opacity: number;\n  isSliding: boolean;\n\n  $: {\n    opened?: Subject<boolean>;\n    side?: Subject<\"left\" | \"right\">;\n    persistent?: Subject<boolean>;\n    preventDefault?: Subject<boolean>;\n    mouseEvents?: Subject<boolean>;\n    // hashChange?: Subject<boolean>;\n  } = {};\n\n  animateTo$: Subject<boolean>;\n\n  // ObservablesMixin\n  getStartObservable: () => Observable<Coord>;\n  getMoveObservable: (start$: Observable<Coord>, end$: Observable<Coord>) => Observable<Coord>;\n  getEndObservable: () => Observable<Coord>;\n  getIsSlidingObservable: (move$: Observable<Coord>, start$: Observable<Coord>, end$: Observable<Coord>) => Observable<boolean>;\n  getIsSlidingObservableInner: (move$: Observable<Coord>, start$: Observable<Coord>) => Observable<boolean>;\n\n  // CalcMixin\n  calcIsInRange: (start: Coord, opened: boolean) => boolean;\n  calcIsSwipe: (start: Coord, end: Coord, translateX: number, drawerWidth: number, _: number) => boolean;\n  calcWillOpen: (start: {}, end: {}, translateX: number, drawerWidth: number, velocity: number) => boolean;\n  calcTranslateX: (move: Coord, start: Coord, startTranslateX: number, drawerWidth: number) => number;\n\n  // UpdateMixin\n  updateDOM: (translateX: number, drawerWidth: number) => void;\n  updater: Updater;\n\n  // HyDrawer\n  getDrawerWidth() {\n    const content$ = observeWidth(this.contentEl)\n      .pipe(tap(px => this.fireEvent('content-width-change', { detail: px })));\n    const peek$ = observeWidth(this.peekEl)\n      .pipe(tap(px => this.fireEvent('peek-width-change', { detail: px })));\n\n    return combineLatest(content$, peek$).pipe(\n      // takeUntil(this.subjects.disconnect),\n      map(([contentWidth, peekWidth]) => contentWidth - peekWidth),\n      share(),\n    );\n  }\n\n  // private consolidateState() {\n  //   const hashOpened = location.hash === this.hashId;\n  //   const isReload = history.state && history.state[this.histId];\n  //   if (isReload) {\n  //     if (hashOpened !== this.opened) {\n  //       this.opened = hashOpened;\n  //     }\n  //   } else {\n  //     const url = new URL(location.href);\n  //     const newState = { ...history.state, [this.histId]: { backable: false } };\n  //     if (hashOpened && !this.opened) {\n  //       url.hash = '';\n  //       history.replaceState(newState, document.title, url.href);\n\n  //       url.hash = this.hashId;\n  //       history.pushState({ [this.histId]: { backable: true } }, document.title, url.href);\n\n  //       this.opened = true;\n  //     }\n  //     else if (!hashOpened && this.opened) {\n  //       history.replaceState(newState, document.title, url.href);\n\n  //       url.hash = this.hashId;\n  //       history.pushState({ [this.histId]: { backable: true } }, document.title, url.href);\n  //     }\n  //     else {\n  //       history.replaceState(newState, document.title, url.href);\n  //     }\n  //   }\n  // }\n\n  connectedCallback() {\n    super.connectedCallback();\n\n    // if (this.hashChange) this.consolidateState()\n\n    this.$.opened = new BehaviorSubject(this.opened);\n    this.$.side = new BehaviorSubject(this.side);\n    this.$.persistent = new BehaviorSubject(this.persistent);\n    this.$.preventDefault = new BehaviorSubject(this.noScroll);\n    this.$.mouseEvents = new BehaviorSubject(this.mouseEvents);\n    // this.$.hashChange = new BehaviorSubject(this.hashChange)\n\n    this.scrimClickable = this.opened\n\n    this.animateTo$ = new Subject<boolean>();\n\n    this.updater = Updater.getUpdaterForPlatform(this);\n\n    this.updateComplete.then(this.upgrade);\n  }\n\n  upgrade = () => {\n    const drawerWidth$ = this.getDrawerWidth();\n    const active$ = this.$.persistent.pipe(map(_ => !_));\n\n    const start$ = this.getStartObservable().pipe(\n      // takeUntil(this.subjects.disconnect),\n      filterWhen(active$),\n      share(),\n    );\n\n    const deferred: {\n      translateX$?: Observable<number>\n      startTranslateX$?: Observable<number>;\n      tweenTranslateX$?: Observable<number>;\n    } = {};\n\n    const isScrimVisible$ = defer(() => {\n      return deferred.translateX$.pipe(map(translateX => translateX !== 0))\n    });\n\n    const isInRange$ = start$.pipe(\n      withLatestFrom(isScrimVisible$),\n      map(args => this.calcIsInRange(...args)),\n      tap((inRange) => {\n        if (inRange) {\n          this.willChange = true;\n          this.fireEvent('prepare');\n        }\n      }),\n      share(),\n    );\n\n    const end$ = this.getEndObservable().pipe(\n      // takeUntil(this.subjects.disconnect),\n      filterWhen(active$, isInRange$),\n      tap(() => { if (this.mouseEvents) this.grabbing = false; }),\n      share(),\n    );\n\n    const move$ = this.getMoveObservable(start$, end$).pipe(\n      // takeUntil(this.subjects.disconnect),\n      filterWhen(active$, isInRange$),\n      share(),\n    );\n\n    const isSliding$ = this.getIsSlidingObservable(move$, start$, end$).pipe(\n      tap(isSliding => {\n        this.isSliding = isSliding;\n        if (isSliding && this.mouseEvents) this.grabbing = true;\n        // if (isSliding) this.fireEvent('slidestart', { detail: this.opened });\n      })\n    );\n\n    const translateX$ = deferred.translateX$ = defer(() => {\n      const jumpTranslateX$ = combineLatest(this.$.opened, this.$.side, drawerWidth$).pipe(\n        map(([opened, side, drawerWidth]) => {\n          return !opened ? 0 : drawerWidth * (side === \"left\" ? 1 : -1);\n        }),\n      );\n\n      const moveTranslateX$ = move$.pipe(\n        filterWhen(isSliding$),\n        tap(() => (this.scrimClickable = false)),\n        tap(({ event }) => this.noScroll && event.preventDefault()),\n        withLatestFrom(start$, deferred.startTranslateX$, drawerWidth$),\n        map(args => this.calcTranslateX(...args))\n      );\n\n      return merge(deferred.tweenTranslateX$, jumpTranslateX$, moveTranslateX$);\n    }).pipe(share());\n\n    deferred.startTranslateX$ = translateX$.pipe(sample(start$));\n\n    const velocity$ = translateX$.pipe(\n      timestamp(),\n      pairwise(),\n      filter(([{ timestamp: prevTime }, { timestamp: time }]) => time - prevTime > 0),\n      map(\n        ([{ value: prevX, timestamp: prevTime }, { value: x, timestamp: time }]) =>\n          (x - prevX) / (time - prevTime)\n      ),\n      startWith(0),\n    );\n\n    const willOpen$ = end$.pipe(\n      withLatestFrom(start$, translateX$, drawerWidth$, velocity$),\n      filter(args => this.calcIsSwipe(...args)),\n      map(args => this.calcWillOpen(...args)),\n      // TODO: only fire `slideend` event when slidestart fired as well?\n      // tap(willOpen => this.fireEvent('slideend', { detail: willOpen })),\n    );\n\n    const animateTo$ = this.animateTo$.pipe(tap(() => {\n      this.willChange = true;\n      this.fireEvent('prepare');\n    }));\n\n    deferred.tweenTranslateX$ = merge(willOpen$, animateTo$).pipe(\n      withLatestFrom(translateX$, drawerWidth$),\n      switchMap(([willOpen, translateX, drawerWidth]) => {\n        const inv = this.side === \"left\" ? 1 : -1;\n        const endTranslateX = willOpen ? drawerWidth * inv : 0;\n        const diffTranslateX = endTranslateX - translateX;\n        const duration = Math.ceil(BASE_DURATION + drawerWidth * WIDTH_CONTRIBUTION);\n\n        return tween(easeOutSine, translateX, diffTranslateX, duration).pipe(\n          finalize(() => { this.transitioned(willOpen) }),\n          takeUntil(start$),\n          takeUntil(this.$.side.pipe(skip(1))),\n          share(),\n        );\n      })\n    );\n\n    translateX$.pipe(\n      withLatestFrom(drawerWidth$),\n      tap((args) => {\n        this.updateDOM(...args);\n        const { translateX, opacity } = this;\n        this.fireEvent('move', { detail: { translateX, opacity }, bubbles: false });\n      }),\n    ).subscribe();\n\n    fromEvent(this.scrimEl, \"click\").pipe(\n      // takeUntil(this.subjects.disconnect),\n      tap(() => this.close()),\n    ).subscribe();\n\n    active$.pipe(\n      // takeUntil(this.subjects.disconnect),\n      tap((active) => {\n        this.scrimEl.style.display = active ? \"block\" : \"none\";\n      }),\n    ).subscribe();\n\n    this.$.mouseEvents.pipe(\n      // takeUntil(this.subjects.disconnect),\n      switchMap(mouseEvents => {\n        return mouseEvents\n          ? start$.pipe(withLatestFrom(isInRange$))\n          : NEVER;\n      }),\n      filter(([coord, isInRange]) => isInRange && coord.event != null),\n      tap(([{ event }]) => event.preventDefault()),\n    ).subscribe();\n\n    // fromEvent(window, 'hashchange').pipe(\n    //   // takeUntil(this.subjects.disconnect),\n    //   subscribeWhen(this.$.hashChange),\n    //   tap(() => {\n    //     const opened = location.hash === this.hashId;\n    //     if (!history.state && opened) {\n    //       history.replaceState({ [this.histId]: { backable: true } }, document.title)\n    //     }\n\n    //     // If the state doesn't match open/close the drawer\n    //     if (opened !== this.opened) this.animateTo$.next(opened);\n    //   }),\n    // ).subscribe();\n\n    this.fireEvent(\"init\", { detail: this.opened });\n    this._initialized.resolve(this);\n  }\n\n  private transitioned = (hasOpened: boolean) => {\n    this.opened = this.scrimClickable = hasOpened;\n    this.willChange = false;\n\n    // if (this.hashChange) this.transitionedHash(hasOpened)\n\n    this.fireEvent('transitioned', { detail: hasOpened });\n  }\n\n  // private transitionedHash(hasOpened: boolean) {\n  //   const hasClosed = !hasOpened;\n  //   const { backable } = history.state && history.state[this.histId] || { backable: false }\n  //   if (hasClosed && backable) {\n  //     history.back()\n  //   } \n  //   if (hasOpened && location.hash !== this.hashId) {\n  //     location.hash = this.hashId;\n  //   }\n  // }\n\n  render() {\n    return html`\n      <div class=\"peek full-height\"></div>\n      <div\n        class=\"scrim\"\n        style=${styleMap({\n          willChange: this.willChange ? 'opacity' : '',\n          pointerEvents: this.scrimClickable ? 'all' : '',\n        })}>\n      </div>\n      ${this.mouseEvents && this.grabbing && !this.scrimClickable \n        ? html`<div class=\"grabbing-screen full-screen\"></div>` \n        : null}\n      <div\n        class=${classMap({\n          wrapper: true,\n          'full-height': true,\n          [this.side]: true,\n          grab: this.mouseEvents,\n          grabbing: this.mouseEvents && this.grabbing,\n        })}\n        style=${styleMap({ \n          willChange: this.willChange ? 'transform' : '',\n        })}\n      >\n        <div class=\"overflow\">\n          <slot></slot>\n        </div>\n      </div>\n    `;\n  }\n\n  @property()\n  open() {\n    this.animateTo$.next(true);\n  }\n\n  @property()\n  close() {\n    this.animateTo$.next(false);\n  }\n\n  @property()\n  toggle() {\n    this.animateTo$.next(!this.opened);\n  }\n}\n","import { Observable, combineLatest, fromEvent, merge, NEVER } from \"rxjs\";\n\nimport {\n  // tap,\n  filter,\n  map,\n  mapTo,\n  repeatWhen,\n  skipWhile,\n  startWith,\n  switchMap,\n  take,\n  withLatestFrom,\n} from \"rxjs/operators\";\n\nimport { subscribeWhen } from \"./common\";\n\nconst abs = Math.abs.bind(Math);\n\nexport type Coord = {\n  target: EventTarget;\n  clientX?: number;\n  clientY?: number;\n  pageX?: number;\n  pageY?: number;\n  screenX?: number;\n  screenY?: number;\n  event?: Event;\n}\n\nexport class ObservablesMixin {\n  $: {\n    mouseEvents?: Observable<boolean>;\n    preventDefault?: Observable<boolean>;\n  }\n\n  threshold: number;\n  noScroll: boolean;\n\n  getStartObservable() {\n    return combineLatest(this.$.mouseEvents).pipe(\n      switchMap(([mouseEvents]) => {\n        const touchstart$ = (fromEvent(document, \"touchstart\", {\n            passive: true,\n          }) as Observable<TouchEvent>).pipe(\n            filter(({ touches }) => touches.length === 1),\n            map(({ touches }) => touches[0] as Coord)\n          );\n\n        const mousedown$ = !mouseEvents\n          ? NEVER\n          : (fromEvent(document, \"mousedown\") as Observable<MouseEvent>).pipe(\n            map((e) => (((e as Coord).event = e), e as Coord)),\n          );\n\n        return merge(touchstart$, mousedown$);\n      })\n    );\n  }\n\n  getMoveObservable(start$: Observable<Coord>, end$: Observable<Coord>) {\n    return combineLatest(this.$.mouseEvents, this.$.preventDefault).pipe(\n      switchMap(([mouseEvents, preventDefault]) => {\n        const touchmove$ = (fromEvent(document, \"touchmove\", { \n            passive: !preventDefault \n          }) as Observable<TouchEvent>).pipe(\n            map(e => (((e.touches[0] as Coord).event = e), e.touches[0] as Coord))\n          );\n\n        const mousemove$ = !mouseEvents\n          ? NEVER\n          : (fromEvent(document, \"mousemove\", {\n            passive: !preventDefault,\n          }) as Observable<TouchEvent>).pipe(\n            subscribeWhen(merge(start$.pipe(mapTo(true)), end$.pipe(mapTo(false)))),\n            map(e => (((e as Coord).event = e), e as Coord))\n          );\n\n        return merge(touchmove$, mousemove$);\n      })\n    );\n  }\n\n  getEndObservable() {\n    return combineLatest(this.$.mouseEvents).pipe(\n      switchMap(([mouseEvents]) => {\n        const touchend$ = (fromEvent(document, \"touchend\", { passive: true }) as Observable<TouchEvent>).pipe(\n            filter(({ touches }) => touches.length === 0),\n            map(event => event.changedTouches[0] as Coord)\n          );\n\n        const mouseup$ = !mouseEvents\n          ? NEVER\n          : fromEvent(document, \"mouseup\", { passive: true }) as Observable<Coord>;\n\n        return merge(touchend$, mouseup$);\n      })\n    );\n  }\n\n  getIsSlidingObservable(move$: Observable<Coord>, start$: Observable<Coord>, end$: Observable<Coord>) {\n    return this.getIsSlidingObservableInner(move$, start$).pipe(\n      take(1),\n      startWith(undefined),\n      repeatWhen(() => end$)\n    );\n  }\n\n  getIsSlidingObservableInner(move$: Observable<Coord>, start$: Observable<Coord>) {\n    if (this.threshold) {\n      return move$.pipe(\n        withLatestFrom(start$),\n        skipWhile(\n          ([{ clientX, clientY }, { clientX: startX, clientY: startY }]) =>\n            abs(startY - clientY) < this.threshold && abs(startX - clientX) < this.threshold\n        ),\n        map(\n          ([{ clientX, clientY }, { clientX: startX, clientY: startY }]) =>\n            abs(startX - clientX) >= abs(startY - clientY)\n        )\n      );\n    } else {\n      return move$.pipe(\n        withLatestFrom(start$),\n        map(([{ clientX, clientY, event }, { clientX: startX, clientY: startY }]) => {\n          const isSliding = abs(startX - clientX) >= abs(startY - clientY);\n          if (this.noScroll && isSliding) event.preventDefault();\n          return isSliding;\n        })\n      );\n    }\n  }\n}\n","import { css } from 'lit-element';\n\nexport const styles = css`\n  @media screen {\n    :host {\n      touch-action: pan-x;\n    }\n\n    .full-screen {\n      position: fixed;\n      top: 0;\n      left: 0;\n      height: 100vh;\n      width: 100vw;\n    }\n\n    .full-height {\n      position: fixed;\n      top: 0;\n      height: 100vh;\n    }\n\n    .peek {\n      left: 0;\n      width: var(--hy-drawer-peek-width, 0px);\n      visibility: hidden;\n      z-index: calc(var(--hy-drawer-z-index, 100) - 1);\n    }\n\n    .scrim {\n      position: fixed;\n      top: 0;\n      left: 0;\n      height: 10vh;\n      width: 10vw;\n      transform: scale(10);\n      transform-origin: top left;\n      opacity: 0;\n      pointer-events: none;\n      background: var(--hy-drawer-scrim-background, rgba(0, 0, 0, 0.5));\n      z-index: var(--hy-drawer-z-index, 100);\n      -webkit-tap-highlight-color: transparent;\n    }\n\n    .range {\n      position: fixed;\n      top: 0;\n      height: 100vh;\n      z-index: calc(var(--hy-drawer-z-index, 100) + 1);\n    }\n\n    .grabbing-screen {\n      cursor: grabbing;\n      z-index: calc(var(--hy-drawer-z-index, 100) + 2);\n    }\n\n    .wrapper {\n      width: var(--hy-drawer-width, 300px);\n      background: var(--hy-drawer-background, inherit);\n      box-shadow: var(--hy-drawer-box-shadow, 0 0 15px rgba(0, 0, 0, 0.25));\n      z-index: calc(var(--hy-drawer-z-index, 100) + 3);\n      contain: strict;\n    }\n\n    .wrapper.left {\n      left:  calc(-1 * var(--hy-drawer-width, 300px) + var(--hy-drawer-peek-width, 0px));\n    }\n\n    .wrapper.right {\n      right:  calc(-1 * var(--hy-drawer-width, 300px) + var(--hy-drawer-peek-width, 0px));\n    }\n\n    .wrapper > .overflow {\n      position: absolute;\n      top: 0;\n      right: 0;\n      bottom: 0;\n      left: 0;\n      overflow-x: hidden;\n      overflow-y: auto;\n      overscroll-behavior: contain;\n      -webkit-overflow-scrolling: touch;\n    }\n\n    .grab {\n      cursor: move;\n      cursor: grab;\n    }\n\n    .grabbing {\n      cursor: grabbing;\n    }\n  }\n\n  @media print {\n    .scrim {\n      display: none !important;\n    }\n\n    .wrapper {\n      transform: none !important;\n    }\n  }\n`;","export type CallbackValue = { translateX: number, opacity: number };\n\nexport class UpdateMixin {\n  el: HTMLElement;\n  contentEl: HTMLElement;\n  scrimEl: HTMLElement;\n\n  translateX: number;\n  side: string;\n  opacity: number;\n\n  updater: Updater;\n\n  updateDOM(translateX: number, drawerWidth: number) {\n    const inv = this.side === \"left\" ? 1 : -1;\n    const opacity = (translateX / drawerWidth) * inv || 0;\n\n    this.translateX = translateX;\n    this.opacity = opacity;\n\n    this.updater.updateDOM(translateX, opacity);\n  }\n}\n\nexport abstract class Updater {\n  static getUpdaterForPlatform(parent: UpdateMixin) {\n    const hasCSSOM = \"attributeStyleMap\" in Element.prototype && \"CSS\" in window && \"number\" in CSS;\n    return hasCSSOM\n      ? new AttributeStyleMapUpdater(parent)\n      : new StyleUpdater(parent);\n  }\n\n  private parent: UpdateMixin;\n  constructor(parent: UpdateMixin) {\n    this.parent = parent;\n  }\n  get contentEl() { return this.parent.contentEl }\n  get scrimEl() { return this.parent.scrimEl }\n\n  abstract updateDOM(translateX: number, opacity: number): void;\n}\n\nexport class StyleUpdater extends Updater {\n  constructor(parent: UpdateMixin) { super(parent); }\n\n  updateDOM(translateX: number, opacity: number) {\n    this.contentEl.style.transform = `translate(${translateX}px, 0px)`;\n    this.scrimEl.style.opacity = `${opacity}`;\n  }\n}\n\nexport class AttributeStyleMapUpdater extends Updater {\n  // @ts-ignore\n  private tvalue: CSSTransformValue;\n  // @ts-ignore\n  private ovalue: CSSUnitValue;\n\n  constructor(parent: UpdateMixin) {\n    super(parent);\n    // @ts-ignore\n    this.tvalue = new CSSTransformValue([new CSSTranslate(CSS.px(0), CSS.px(0))]);\n    // @ts-ignore\n    this.ovalue = CSS.number(1);\n  }\n\n  updateDOM(translateX: number, opacity: number) {\n    // @ts-ignore\n    this.tvalue[0].x.value = translateX;\n    // @ts-ignore\n    this.ovalue.value = opacity;\n\n    // @ts-ignore\n    this.contentEl.attributeStyleMap.set(\"transform\", this.tvalue);\n    // @ts-ignore\n    this.scrimEl.attributeStyleMap.set(\"opacity\", this.ovalue);\n  }\n}","/**\n * @license\n * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {AttributePart, directive, Part, PropertyPart} from '../lit-html.js';\n\n// IE11 doesn't support classList on SVG elements, so we emulate it with a Set\nclass ClassList {\n  element: Element;\n  classes: Set<string> = new Set();\n  changed = false;\n\n  constructor(element: Element) {\n    this.element = element;\n    const classList = (element.getAttribute('class') || '').split(/\\s+/);\n    for (const cls of classList) {\n      this.classes.add(cls);\n    }\n  }\n  add(cls: string) {\n    this.classes.add(cls);\n    this.changed = true;\n  }\n\n  remove(cls: string) {\n    this.classes.delete(cls);\n    this.changed = true;\n  }\n\n  commit() {\n    if (this.changed) {\n      let classString = '';\n      this.classes.forEach((cls) => classString += cls + ' ');\n      this.element.setAttribute('class', classString);\n    }\n  }\n}\n\nexport interface ClassInfo {\n  readonly [name: string]: string|boolean|number;\n}\n\n/**\n * Stores the ClassInfo object applied to a given AttributePart.\n * Used to unset existing values when a new ClassInfo object is applied.\n */\nconst previousClassesCache = new WeakMap<Part, Set<string>>();\n\n/**\n * A directive that applies CSS classes. This must be used in the `class`\n * attribute and must be the only part used in the attribute. It takes each\n * property in the `classInfo` argument and adds the property name to the\n * element's `class` if the property value is truthy; if the property value is\n * falsey, the property name is removed from the element's `class`. For example\n * `{foo: bar}` applies the class `foo` if the value of `bar` is truthy.\n * @param classInfo {ClassInfo}\n */\nexport const classMap = directive((classInfo: ClassInfo) => (part: Part) => {\n  if (!(part instanceof AttributePart) || (part instanceof PropertyPart) ||\n      part.committer.name !== 'class' || part.committer.parts.length > 1) {\n    throw new Error(\n        'The `classMap` directive must be used in the `class` attribute ' +\n        'and must be the only part in the attribute.');\n  }\n\n  const {committer} = part;\n  const {element} = committer;\n\n  let previousClasses = previousClassesCache.get(part);\n  if (previousClasses === undefined) {\n    // Write static classes once\n    // Use setAttribute() because className isn't a string on SVG elements\n    element.setAttribute('class', committer.strings.join(' '));\n    previousClassesCache.set(part, previousClasses = new Set());\n  }\n\n  const classList =\n      (element.classList || new ClassList(element)) as DOMTokenList | ClassList;\n\n  // Remove old classes that no longer apply\n  // We use forEach() instead of for-of so that re don't require down-level\n  // iteration.\n  previousClasses.forEach((name) => {\n    if (!(name in classInfo)) {\n      classList.remove(name);\n      previousClasses!.delete(name);\n    }\n  });\n\n  // Add or remove classes based on their classMap value\n  for (const name in classInfo) {\n    const value = classInfo[name];\n    if (value != previousClasses.has(name)) {\n      // We explicitly want a loose truthy check of `value` because it seems\n      // more convenient that '' and 0 are skipped.\n      if (value) {\n        classList.add(name);\n        previousClasses.add(name);\n      } else {\n        classList.remove(name);\n        previousClasses.delete(name);\n      }\n    }\n  }\n  if (typeof (classList as ClassList).commit === 'function') {\n    (classList as ClassList).commit();\n  }\n});\n","/**\n * @license\n * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {AttributePart, directive, Part, PropertyPart} from '../lit-html.js';\n\nexport interface StyleInfo {\n  readonly [name: string]: string;\n}\n\n/**\n * Stores the StyleInfo object applied to a given AttributePart.\n * Used to unset existing values when a new StyleInfo object is applied.\n */\nconst previousStylePropertyCache = new WeakMap<AttributePart, Set<string>>();\n\n/**\n * A directive that applies CSS properties to an element.\n *\n * `styleMap` can only be used in the `style` attribute and must be the only\n * expression in the attribute. It takes the property names in the `styleInfo`\n * object and adds the property values as CSS properties. Property names with\n * dashes (`-`) are assumed to be valid CSS property names and set on the\n * element's style object using `setProperty()`. Names without dashes are\n * assumed to be camelCased JavaScript property names and set on the element's\n * style object using property assignment, allowing the style object to\n * translate JavaScript-style names to CSS property names.\n *\n * For example `styleMap({backgroundColor: 'red', 'border-top': '5px', '--size':\n * '0'})` sets the `background-color`, `border-top` and `--size` properties.\n *\n * @param styleInfo {StyleInfo}\n */\nexport const styleMap = directive((styleInfo: StyleInfo) => (part: Part) => {\n  if (!(part instanceof AttributePart) || (part instanceof PropertyPart) ||\n      part.committer.name !== 'style' || part.committer.parts.length > 1) {\n    throw new Error(\n        'The `styleMap` directive must be used in the style attribute ' +\n        'and must be the only part in the attribute.');\n  }\n\n  const {committer} = part;\n  const {style} = committer.element as HTMLElement;\n\n  let previousStyleProperties = previousStylePropertyCache.get(part);\n\n  if (previousStyleProperties === undefined) {\n    // Write static styles once\n    style.cssText = committer.strings.join(' ');\n    previousStylePropertyCache.set(part, previousStyleProperties = new Set());\n  }\n\n  // Remove old properties that no longer exist in styleInfo\n  // We use forEach() instead of for-of so that re don't require down-level\n  // iteration.\n  previousStyleProperties.forEach((name) => {\n    if (!(name in styleInfo)) {\n      previousStyleProperties!.delete(name);\n      if (name.indexOf('-') === -1) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        (style as any)[name] = null;\n      } else {\n        style.removeProperty(name);\n      }\n    }\n  });\n\n  // Add or update properties\n  for (const name in styleInfo) {\n    previousStyleProperties.add(name);\n    if (name.indexOf('-') === -1) {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      (style as any)[name] = styleInfo[name];\n    } else {\n      style.setProperty(name, styleInfo[name]);\n    }\n  }\n});\n"],"sourceRoot":""}